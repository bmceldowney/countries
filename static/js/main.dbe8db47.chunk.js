(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{101:function(e,t,a){e.exports=function(){return new Worker(a.p+"4d6568b3d4f66a082c38.worker.js")}},105:function(e,t,a){e.exports=a(180)},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},117:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=(a(110),a(15)),u=(a(111),function(e){e.mode;return r.a.createElement("header",null,r.a.createElement("div",{className:"title"},"countries of the world"))}),s=a(197),i=a(28),d=r.a.createContext(null),m=[{name:"all",dataKey:"all"},{name:"only islands",dataKey:"onlyIsland"},{name:"border count",dataKey:"mostBorders"},{name:"shared language",dataKey:"sharedLanguage"}],p={currentModeIndex:0,currentGroupItemIndex:0},f=function(e,t){switch(t.type){case"UPDATE_CURRENT_MODE":return Object(i.a)({},e,{currentModeIndex:t.payload});case"UPDATE_GROUP_ITEM_INDEX":return Object(i.a)({},e,{currentGroupItemIndex:t.payload});default:return e}},v=a(199),E=(a(112),function(e){var t=e.props.appState,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],u=c[1],i=Object(n.useContext)(d),p=t.currentModeIndex,f=function(e){var t=parseInt(e.currentTarget.dataset.index,10);i({type:"UPDATE_CURRENT_MODE",payload:t}),h()},E=m.map((function(e,t){var a=p===t?"mode-selected":"";return r.a.createElement("div",{key:t,"data-index":t,className:"mode-item ".concat(a),onClick:f},e.name)})),h=function(){u(null)},y=Boolean(o),b=y?"simple-popover":void 0;return r.a.createElement("div",{className:"mode-container"},r.a.createElement(v.a,{id:b,open:y,anchorEl:o,onClose:h,classes:{paper:"mode-popover-paper"},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{className:"popover-content"},r.a.createElement("div",{className:"modes"},E))),r.a.createElement("div",{className:"selected-mode",onClick:function(e){u(e.currentTarget)}},r.a.createElement("div",null,m[p].name),r.a.createElement(s.a,null,"keyboard_arrow_right")),r.a.createElement("div",{className:"modes-container"},r.a.createElement("div",{className:"modes"},E)))}),h=r.a.createContext({}),y={all:{ids:[],mapArray:[],breakData:{}},onlyIsland:{ids:[],mapArray:[],breakData:{}},mostBorders:{ids:[],mapArray:[],breakData:{}},sharedLanguage:{ids:[],mapArray:[],breakData:{}},byIds:{}},b=h.Provider,g=h,x=(a(117),function(e){var t=e.props,a=t.scrollState,c=t.appState,o=Object(n.useState)(null),u=Object(l.a)(o,2),i=u[0],p=u[1],f=Object(n.useContext)(d),E=Object(n.useContext)(g)[m[c.currentModeIndex].dataKey],h=E.mapArray[a.topItemIndex],y=function(e){var t=parseInt(e.currentTarget.dataset.index,10);f({type:"UPDATE_GROUP_ITEM_INDEX",payload:t}),x()},b=Object.entries(E.breakData).map((function(e,t){var a=Object(l.a)(e,2),n=a[0],c=a[1],o=h===c?"group-button-selected":"";return r.a.createElement("div",{className:"group-button ".concat(o),key:t,"data-index":n,onClick:y},c)})),x=function(){p(null)},w=Boolean(i),I=w?"simple-popover":void 0;return r.a.createElement("div",{className:"group-selector-container"},r.a.createElement("div",{className:"group-selector",onClick:function(e){p(e.currentTarget)}},r.a.createElement("div",null,h),r.a.createElement(s.a,null,"keyboard_arrow_right")),r.a.createElement(v.a,{id:I,open:w,anchorEl:i,onClose:x,classes:{paper:"group-popover-paper"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},b))}),w=a(96),I=a(55),O=a(198),j=(a(176),function(e){var t,a=e.props,n=a.name,c=a.flag,o=a.borders,l=a.expandedBorderNames,u=e.languageData,s=e.currentModeIndex,i=e.style,d=[],m=n;if(2===s&&(d=l.map((function(e,t){return r.a.createElement("div",{key:"".concat(n).concat(t),className:"border-country"},e)})),m="".concat(n," - ").concat(o.length)),3===s){var p=u.substring(0,u.indexOf(" - "));t=r.a.createElement("div",{className:"country-language"},p)}var f={backgroundImage:"url(".concat(c,")")};return r.a.createElement("div",{style:i,className:"country-item"},r.a.createElement("div",{className:"country-item-title"},t,r.a.createElement("div",{className:"country-flag",style:f}),r.a.createElement("div",{className:"country-item-name"},m)),d)}),N=r.a.createContext(null),k={topItemIndex:0},T=function(e,t){switch(t.type){case"UPDATE_TOP_ITEM_INDEX":return Object(i.a)({},e,{topItemIndex:t.payload});default:return e}};a(177);var _=new I.b({defaultHeight:80,fixedWidth:!0}),D=function(e){var t=e.props.appState,a=Object(n.useState)(0),c=Object(l.a)(a,2),o=c[0],u=c[1],s=Object(n.useContext)(g),d=Object(n.useContext)(N),p=s.byIds,f=m[t.currentModeIndex].dataKey,v=s[f].ids,E=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=function(e,t){var a=null;return function(){var n=this,r=arguments,c=function(){a=null,e.apply(n,r)};clearTimeout(a),a=setTimeout(c,t)}}((function(){_.clearAll(),E&&E.current&&E.current.recomputeRowHeights()}),100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),Object(n.useEffect)((function(){_.clearAll(),E&&E.current&&E.current.recomputeRowHeights()}),[f]),Object(n.useEffect)((function(){E&&E.current&&E.current.scrollToRow(t.currentGroupItemIndex)}),[t.currentGroupItemIndex]),Object(n.useEffect)((function(){E&&E.current&&E.current.scrollToRow(0)}),[t.currentModeIndex]);var h=function(e){var t=e.startIndex;t!==o&&d({type:"UPDATE_TOP_ITEM_INDEX",payload:t}),u(t)},y=r.a.createElement(w.a,null,(function(e){var t=e.width,a=e.height;return r.a.createElement(I.c,{ref:E,onRowsRendered:h,width:t,height:a,rowCount:v.length,deferredMeasurementCache:_,rowHeight:_.rowHeight,rowRenderer:b,scrollToAlignment:"start"})})),b=function(e){var a=e.index,n=e.style,c=e.key,o=e.parent,l=v[a],u="".concat(2.2,"rem - ").concat(2,"px");return r.a.createElement(I.a,{cache:_,columnIndex:0,key:c,parent:o,rowIndex:a},r.a.createElement(j,{style:Object(i.a)({},n,{width:"calc(".concat(n.width," - ").concat(2,"rem - ").concat(2,"px)"),height:"calc(".concat(n.height,"px - ").concat(u,")")}),key:c,props:p[l],languageData:s[f].mapArray[a],currentModeIndex:t.currentModeIndex}))},x=r.a.createElement("div",{className:"country-loading"},r.a.createElement(O.a,null));return r.a.createElement("div",{className:"country-list"},v.length?y:x)},C=(a(178),function(){var e=Object(n.useReducer)(T,k),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useReducer)(f,p),s=Object(l.a)(o,2),i=s[0],m=s[1];return r.a.createElement(d.Provider,{value:m},r.a.createElement(N.Provider,{value:c},r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(E,{props:{appState:i}}),r.a.createElement(x,{props:{scrollState:a,appState:i}}),r.a.createElement(D,{props:{appState:i}}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(30),A=a.n(M),R=function(){var e,t;return A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=null,a.next=3,A.a.awrap(fetch("https://restcountries.eu/rest/v2/all"));case 3:if(e=a.sent,!(t=e.json()).error){a.next=7;break}throw t.error;case 7:return a.abrupt("return",t);case 8:case"end":return a.stop()}}))},P=function(e,t,a){return function(){return r.a.createElement(t,{value:a},r.a.createElement(e,null))}},S=a(101),U=a.n(S),B=function(e){return new Promise((function(t){var a=new U.a;a.onmessage=function(e){t(e.data)},a.postMessage(e)}))},z=function(e){return function(){var t=Object(n.useState)(y),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){!function(){var e,t;A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(R());case 2:return e=a.sent,console.log("data fetched"),a.next=6,A.a.awrap(B(e));case 6:t=a.sent,o(t);case 8:case"end":return a.stop()}}))}()}),[]);var u=P(e,b,c);return r.a.createElement(u,null)}}(C);o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[105,1,2]]]);
//# sourceMappingURL=main.dbe8db47.chunk.js.map